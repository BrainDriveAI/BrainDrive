<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plugin Update/Delete Buttons Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-case {
            border: 1px solid #ddd;
            margin: 20px 0;
            padding: 15px;
            border-radius: 5px;
        }
        .test-case h3 {
            margin-top: 0;
            color: #333;
        }
        .button {
            display: inline-block;
            padding: 8px 16px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
        }
        .update-btn {
            background-color: #1976d2;
            color: white;
        }
        .delete-btn {
            background-color: #d32f2f;
            color: white;
        }
        .disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        .plugin-info {
            background-color: #f5f5f5;
            padding: 10px;
            margin: 10px 0;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <h1>Plugin Update/Delete Buttons Test Cases</h1>

    <div class="test-case">
        <h3>Test Case 1: Plugin with Source URL and Update Available</h3>
        <div class="plugin-info">
            <strong>Plugin:</strong> Mock Plugin v1.0.0<br>
            <strong>Source URL:</strong> https://github.com/example/mock-plugin<br>
            <strong>Update Available:</strong> Yes (v1.1.0)<br>
            <strong>Expected:</strong> Both Update and Delete buttons should show
        </div>
        <button class="button update-btn">üîÑ Update Available</button>
        <button class="button delete-btn">üóëÔ∏è Delete Plugin</button>
    </div>

    <div class="test-case">
        <h3>Test Case 2: Plugin with Source URL but No Update</h3>
        <div class="plugin-info">
            <strong>Plugin:</strong> Another Plugin v2.0.0<br>
            <strong>Source URL:</strong> https://github.com/example/another-plugin<br>
            <strong>Update Available:</strong> No<br>
            <strong>Expected:</strong> Only Delete button should show
        </div>
        <button class="button delete-btn">üóëÔ∏è Delete Plugin</button>
    </div>

    <div class="test-case">
        <h3>Test Case 3: Local Plugin (No Source URL)</h3>
        <div class="plugin-info">
            <strong>Plugin:</strong> Local Plugin v1.0.0<br>
            <strong>Source URL:</strong> None<br>
            <strong>Update Available:</strong> N/A<br>
            <strong>Expected:</strong> No buttons should show
        </div>
        <p><em>No buttons displayed - this is correct behavior</em></p>
    </div>

    <h2>Debugging Steps</h2>
    <ol>
        <li>Open browser developer tools (F12)</li>
        <li>Navigate to a plugin detail page</li>
        <li>Check the console for debug logs showing plugin data</li>
        <li>Look for logs like: "Plugin data for update/delete buttons:"</li>
        <li>Verify the plugin object has sourceUrl and updateAvailable fields</li>
    </ol>

    <h2>Expected Console Output</h2>
    <pre>
Plugin data for update/delete buttons: {
  pluginId: "some-id",
  pluginName: "Plugin Name",
  sourceUrl: "https://github.com/example/plugin", // Should be present for remote plugins
  updateAvailable: true, // Should be true if update is available
  canUpdate: true, // Should be true if sourceUrl exists AND updateAvailable is true
  canDelete: true, // Should be true if sourceUrl exists
  fullPlugin: { ... } // Full plugin object
}
    </pre>

    <h2>Troubleshooting</h2>
    <ul>
        <li><strong>No buttons showing:</strong> Check if sourceUrl is null/undefined in console</li>
        <li><strong>Only delete showing:</strong> Check if updateAvailable is false</li>
        <li><strong>API errors:</strong> Check if the plugin data is being fetched correctly</li>
        <li><strong>Mock data:</strong> If using mock data, verify it includes sourceUrl field</li>
    </ul>
</body>
</html>